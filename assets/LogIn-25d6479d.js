import{_,a as d,o as c,c as i,b as e,w as u,v as p,F as h,r as f,d as g,e as w,t as b,p as y,f as v}from"./js/index.min.js";const I={components:{},data(){return{username:"",password:"",errors:[]}},mounted(){document.title="Log In"},methods:{async submitForm(){d.defaults.headers.common.Authorization="",localStorage.removeItem("access");const t={username:this.username,password:this.password};await d.post("/api/token/",t).then(s=>{const n=s.data.access,l=s.data.refresh;this.$store.commit("setAccess",n),this.$store.commit("setRefresh",l),d.defaults.headers.common.Authorization="Bearer "+n,localStorage.setItem("access",n),localStorage.setItem("refresh",l),this.$router.push("/")}).catch(s=>{this.errors=[s],console.log(s)})}}},a=t=>(y("data-v-a347c000"),t=t(),v(),t),x={class:"form-signin w-100 m-auto py-5"},S=a(()=>e("h1",{class:"h3 mb-3 fw-normal text-center"},"Welcome to Service",-1)),B={class:"form-floating"},k=a(()=>e("label",{for:"floatingInput"},"Username",-1)),F={class:"form-floating"},L=a(()=>e("label",{for:"floatingPassword"},"Password",-1)),P={key:0,class:"errors"},V=a(()=>e("button",{class:"btn btn-primary w-100 py-2 btn-hl-default",type:"submit"},"Log In",-1)),A=a(()=>e("p",{class:"mt-5 mb-3 text-body-secondary"},"Â© by Brave Bunny",-1));function D(t,s,n,l,r,m){return c(),i("main",x,[e("form",{onSubmit:s[2]||(s[2]=w((...o)=>m.submitForm&&m.submitForm(...o),["prevent"]))},[S,e("div",B,[u(e("input",{type:"text",class:"form-control rounded-bottom-0",id:"floatingInput",placeholder:"user_name","onUpdate:modelValue":s[0]||(s[0]=o=>r.username=o)},null,512),[[p,r.username]]),k]),e("div",F,[u(e("input",{type:"password",class:"form-control",id:"floatingPassword",placeholder:"Password","onUpdate:modelValue":s[1]||(s[1]=o=>r.password=o)},null,512),[[p,r.password]]),L]),r.errors.length?(c(),i("div",P,[(c(!0),i(h,null,f(r.errors,o=>(c(),i("p",{key:o},b(o.error)+" Incorrect username or password",1))),128))])):g("",!0),V,A],32)])}const z=_(I,[["render",D],["__scopeId","data-v-a347c000"]]);export{z as default};
